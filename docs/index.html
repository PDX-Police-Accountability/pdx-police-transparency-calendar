---
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults

layout: default
custom-javascript-list:
  - "https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
  - "assets/fullcalendar/lib/main.js"
custom-css-list:
  - "assets/fullcalendar/lib/main.css"
  - "assets/fullcalendar-overrides.css"
---
<div id="calendar"></div>

<script>
  // Remove any surrounding HTML from Google Event description. This should
  // leave just a URL to the event on some other site.
  function extractUrl(s) {
    var span = document.createElement('span');
    span.innerHTML = s;
    return span.textContent || span.innerText;
  };

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      googleCalendarApiKey: 'AIzaSyAymNlswK-cfgggalWWPljdzst97_rBVDE',
      events: {
        googleCalendarId: 'pdx.police.transparency@gmail.com'
      },

      eventDidMount: function(arg) {
        var eventUrl = extractUrl(arg.event.extendedProps.description);
        // console.log(eventUrl);
        arg.event.setProp('url', eventUrl);
      },

      eventColor: 'orange'
    });
    calendar.render();
  });
</script>
